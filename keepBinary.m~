%% Function which delete useless parts of a sound (typically before and after transmission)
function y = keepBinary(y, threshold)
    % Remove first boom
    y = y(2000:length(y));

    % Remove silence before transmission
    for i = 1:length(y)
       if(y(i) > threshold)
           y = y(i:length(y));
           break;
       end
    end

    % Remove silence after transmission
    for j = length(y):-1:1
        if(y(j) > threshold)
            y = y(1:j);
            break;
        end
    end
    
    if(length(y) >= 4410)
        
        % Reduce to a length of m*4410
        count = 0;
        while(mod(length(y),4410) ~= 0)
            if(mod(count,2) == 0)
                y = y(2:length(y));
                count = count + 1;
            else
                y = y(1:length(y)-1);
                count = count + 1;
            end
        end  
    else
        % Expand to a length of m*4410
        count = 0;
        while(mod(length(y),4410) ~= 0)
            if(mod(count,2) == 0)
                y = y(2:length(y));
                count = count + 1;
            else
                y = y(1:length(y)-1);
                count = count + 1;
            end
        end 
        
    end
end